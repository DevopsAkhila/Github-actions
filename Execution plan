

# âœ… Python Application â€“ All Required Files for GitHub Actions

## ğŸ“‚ Final Repository Structure (IMPORTANT)

```
simple-calculator-python/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ python-ci.yml
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ calculator.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_calculator.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

> ğŸ”´ **Key fix vs your earlier error**
> `app/` **must exist as a directory**, not a filename.

---

## 1ï¸âƒ£ Python Application Code

### ğŸ“„ `app/calculator.py`

```python
def add(a, b):
    return a + b
```

---

## 2ï¸âƒ£ Unit Test (pytest)

### ğŸ“„ `tests/test_calculator.py`

```python
from app.calculator import add

def test_add():
    assert add(2, 3) == 5
```

---

## 3ï¸âƒ£ Dependencies

### ğŸ“„ `requirements.txt`

```
pytest
flake8
pytest-cov
```

---

## 4ï¸âƒ£ GitHub Actions Workflow (CI Pipeline)

### ğŸ“„ `.github/workflows/python-ci.yml`

```yaml
name: Python CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Lint code
        run: flake8 app tests

      - name: Run tests with coverage
        run: |
          pytest tests \
            --junitxml=report.xml \
            --cov=app \
            --cov-report=xml
```

âœ” Uses **pip caching**
âœ” Runs **lint + tests**
âœ” Generates **test & coverage reports**

---

## 5ï¸âƒ£ Git Ignore

### ğŸ“„ `.gitignore`

```
__pycache__/
.pytest_cache/
.env
.venv
.coverage
coverage.xml
```

---

## 6ï¸âƒ£ README (Optional)

### ğŸ“„ `README.md`

```md
# Python GitHub Actions Demo

Simple Python application built and tested using GitHub Actions.

## Pipeline Steps
- Checkout code
- Setup Python
- Install dependencies
- Lint with flake8
- Test with pytest
```

---

## 7ï¸âƒ£ How to Run Locally (Sanity Check)

```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pytest
```

---

## 8ï¸âƒ£ What Youâ€™ll See in GitHub Actions

âœ” Green check âœ”
âœ” pip cache hit on reruns
âœ” flake8 output
âœ” pytest reports generated

---

## 9ï¸âƒ£ Why Your Earlier Error Happened (Explained)

Error:

```
FileNotFoundError: [Errno 2] No such file or directory: 'app'
```

### âŒ Cause

```bash
flake8 app tests
```

but:

* `app` directory didnâ€™t exist
* or Python path was wrong

### âœ… Fixed By

* Creating proper package structure
* Adding `__init__.py`
* Using `--cov=app` (directory, not file)

---

## ğŸ”Ÿ Exam / Interview Ready Notes

| Topic         | Key Point             |
| ------------- | --------------------- |
| setup-python  | Installs Python       |
| pip cache     | Speeds builds         |
| flake8        | Linting               |
| pytest        | Testing               |
| pytest-cov    | Coverage              |
| app vs app.py | Directory is required |

---

